<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TNEVideo - Banner Ad Example</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 800px; margin: 2rem auto; padding: 0 1rem; }
    h1 { color: #333; }
    .ad-slot { border: 1px dashed #ccc; background: #f9f9f9; display: flex; align-items: center; justify-content: center; margin: 1rem 0; }
    #banner-1 { width: 300px; height: 250px; }
    #banner-2 { width: 728px; height: 90px; }
    .info { background: #e8f4fd; border-left: 4px solid #2196F3; padding: 1rem; margin: 1rem 0; }
    pre { background: #f5f5f5; padding: 1rem; overflow-x: auto; font-size: 0.85rem; }
  </style>
  <script src="../src/tnevideo.js"></script>
</head>
<body>
  <h1>Banner Ad Example</h1>

  <div class="info">
    <strong>Instructions:</strong> This page demonstrates banner ad integration with TNEVideo.
    Open the browser console to see debug output. Ensure the Catalyst server is running
    at <code>http://localhost:8000</code> with publisher <code>pub-test-001</code> registered.
  </div>

  <h2>300x250 Medium Rectangle</h2>
  <div id="banner-1" class="ad-slot"></div>

  <h2>728x90 Leaderboard</h2>
  <div id="banner-2" class="ad-slot"></div>

  <h2>Debug Log</h2>
  <pre id="log"></pre>

  <script>
    // Capture console logs for display
    var logEl = document.getElementById('log');
    var origLog = console.log;
    console.log = function() {
      origLog.apply(console, arguments);
      var args = Array.prototype.slice.call(arguments);
      if (args[0] && args[0].toString().indexOf('[TNEVideo]') !== -1) {
        logEl.textContent += args.join(' ') + '\n';
      }
    };

    TNEVideo.init({
      serverUrl: 'http://localhost:8000',
      publisherId: 'pub-test-001',
      gamNetworkId: '/19968336',
      debug: true,

      adUnits: [
        {
          code: 'banner-1',
          mediaTypes: {
            banner: { sizes: [[300, 250]] }
          },
          bids: {
            demo: { placementId: 1 }
          }
        },
        {
          code: 'banner-2',
          mediaTypes: {
            banner: { sizes: [[728, 90]] }
          },
          bids: {
            demo: { placementId: 2 }
          }
        }
      ],

      onAuctionEnd: function(bids) {
        logEl.textContent += '\n=== Auction Complete ===\n';
        logEl.textContent += JSON.stringify(bids, null, 2) + '\n';
      },

      onBidWon: function(bid) {
        logEl.textContent += '\n=== Bid Won ===\n';
        logEl.textContent += bid.bidderCode + ': $' + bid.cpm + '\n';
      },

      onError: function(err) {
        logEl.textContent += '\n=== Error ===\n';
        logEl.textContent += err.message + '\n';
      }
    });
  </script>
</body>
</html>
